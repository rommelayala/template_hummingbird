# pytest.ini
[pytest]
# Carpeta donde pytest buscará los tests
testpaths = tests

# Añadimos la raíz del proyecto al PYTHONPATH
# para poder hacer imports como: from lib.pages.login_page import LoginPage
pythonpath = .

# Opciones por defecto para todas las ejecuciones de pytest
# -ra: resumen de tests saltados/xfailed
# --disable-warnings: oculta warnings
# --maxfail=1: para al primer fallo
# -q: salida compacta
# --alluredir=allure-results: genera resultados para Allure
# --clean-alluredir: limpia resultados anteriores antes de ejecutar
addopts = -ra --disable-warnings --maxfail=1 -q --alluredir=allure-results --clean-alluredir

# Marcadores personalizados para organizar la suite
markers =
    smoke: tests rápidos y críticos que se ejecutan muy a menudo
    regression: batería más completa de tests de regresión
    login: tests relacionados con login/autenticación
    demo: tests pensados para hacer demos en vivo (pueden ser más visuales o lentos)
    slow: tests lentos que no quieres ejecutar siempre
    playwright: tests que usan Playwright de forma intensiva (útil si mezclas tipos de tests en el futuro)
    bdd: tests escritos en formato BDD/Gherkin usando pytest-bdd
    critical: tests críticos que deben pasar siempre

# Configuración de logging en consola (útil para debug)
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(name)s - %(message)s
log_cli_date_format = %H:%M:%S
